---
title: Update Task
description: API endpoint to update a scheduled task. Requires task id; any additional provided fields will be updated. Returns the updated task in the same shape as the GET endpoint.
---

# Update Task

Update an existing scheduled task. Only the `id` field is required; any additional fields you include will be updated on the task. The response shape matches the [GET Tasks](/tasks/get) endpoint (an array containing the updated task).

## Endpoint

```http
PATCH https://api.recoupable.com/api/tasks
```

## PATCH Parameters

| Name              | Type    | Required | Description                                                     |
| ----------------- | ------- | -------- | --------------------------------------------------------------- |
| id                | string  | Yes      | UUID of the task to update                                      |
| title             | string  | No       | New descriptive title of the task                               |
| prompt            | string  | No       | New instruction/prompt executed by the task                     |
| schedule          | string  | No       | New cron expression defining when the task runs                 |
| account_id        | string  | No       | New UUID of the associated account                              |
| artist_account_id | string  | No       | New UUID of the associated artist account                       |
| enabled           | boolean | No       | Whether the task is enabled. Can be `true`, `false`, or `null`. |

Notes:

- Only fields provided (beyond `id`) will be updated.
- Omitting a field leaves the existing value unchanged.

## Request Examples

:::code-group

```bash [cURL]
curl -X PATCH "https://api.recoupable.com/api/tasks" \
  -H "Content-Type: application/json" \
  -d '{
    "id": "aade2bce-55c7-468e-a606-c4e76fb2ea2a",
    "title": "Weekly Genre Pulse Check (Updated)",
    "schedule": "0 10 * * 4"
  }'
```

```python [Python]
import requests

def update_task(id: str, title: str | None = None, prompt: str | None = None, schedule: str | None = None, account_id: str | None = None, artist_account_id: str | None = None, enabled: bool | None = None):
    try:
        url = "https://api.recoupable.com/api/tasks"
        payload = {"id": id}
        if title is not None:
            payload["title"] = title
        if prompt is not None:
            payload["prompt"] = prompt
        if schedule is not None:
            payload["schedule"] = schedule
        if account_id is not None:
            payload["account_id"] = account_id
        if artist_account_id is not None:
            payload["artist_account_id"] = artist_account_id
        if enabled is not None:
            payload["enabled"] = enabled
        headers = {"Content-Type": "application/json"}
        response = requests.patch(url, json=payload, headers=headers)
        response.raise_for_status()
        return response.json()
    except requests.exceptions.RequestException as error:
        print(f"Error updating task: {error}")
        raise
```

```javascript [JavaScript]
async function updateTask({
  id,
  title,
  prompt,
  schedule,
  account_id,
  artist_account_id,
  enabled,
}) {
  try {
    const body = { id };
    if (title !== undefined) body.title = title;
    if (prompt !== undefined) body.prompt = prompt;
    if (schedule !== undefined) body.schedule = schedule;
    if (account_id !== undefined) body.account_id = account_id;
    if (artist_account_id !== undefined)
      body.artist_account_id = artist_account_id;
    if (enabled !== undefined) body.enabled = enabled;

    const response = await fetch("https://api.recoupable.com/api/tasks", {
      method: "PATCH",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body),
    });
    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
    return await response.json();
  } catch (error) {
    console.error("Error updating task:", error);
    throw error;
  }
}
```

```typescript [TypeScript]
interface Task {
  id: string;
  title: string;
  prompt: string;
  schedule: string;
  account_id: string;
  artist_account_id: string;
  enabled: boolean | null;
  trigger_schedule_id: string | null;
}

interface TasksResponse {
  status: "success" | "error";
  tasks: Task[];
  error?: string;
}

interface UpdateTaskInput {
  id: string;
  title?: string;
  prompt?: string;
  schedule?: string; // cron
  account_id?: string;
  artist_account_id?: string;
  enabled?: boolean | null;
}

async function updateTask(input: UpdateTaskInput): Promise<TasksResponse> {
  const response = await fetch("https://api.recoupable.com/api/tasks", {
    method: "PATCH",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(input),
  });
  if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
  return (await response.json()) as TasksResponse;
}
```

:::

## Response Format

The API returns JSON identical to the GET endpoint: an array containing the updated task. See [GET Tasks](/tasks/get) for full response details.

```json filename="Response - Updated Task"
{
  "status": "success",
  "tasks": [
    {
      "id": "aade2bce-55c7-468e-a606-c4e76fb2ea2a",
      "title": "Weekly Genre Pulse Check (Updated)",
      "prompt": "Execute this weekly genre analysis workflow and email a summary to the team.",
      "schedule": "0 10 * * 4",
      "account_id": "848cd58d-700f-4b38-ab4c-d9f52a1b2c3d",
      "artist_account_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
      "enabled": true,
      "trigger_schedule_id": null
    }
  ]
}
```
