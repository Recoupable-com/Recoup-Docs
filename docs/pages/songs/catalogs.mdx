---
title: Get Catalogs
description: API endpoint to retrieve catalogs associated with a specific account from the database.
---

# Get Catalogs

Retrieve catalogs associated with a specific account. This endpoint joins the account_catalogs table with the catalogs table to provide comprehensive catalog information for a given account.

## Endpoint

```http
GET https://api.recoupable.com/api/catalogs
```

## Parameters

| Name       | Type   | Required | Description                                   |
| ---------- | ------ | -------- | --------------------------------------------- |
| account_id | string | Yes      | The unique identifier of the account to query |

## Request Examples

:::code-group

```bash [cURL]
curl -X GET "https://api.recoupable.com/api/catalogs?account_id=YOUR_ACCOUNT_ID" \
  -H "Content-Type: application/json"
```

```python [Python]
import requests

def get_catalogs(account_id: str):
    try:
        url = "https://api.recoupable.com/api/catalogs"
        params = {
            "account_id": account_id
        }

        headers = {
            "Content-Type": "application/json",
        }

        response = requests.get(url, params=params, headers=headers)
        response.raise_for_status()

        return response.json()
    except requests.exceptions.RequestException as error:
        print(f"Error fetching catalogs: {error}")
        raise

# Example usage:
# catalogs = get_catalogs("your-account-id")
```

```javascript [JavaScript]
async function getCatalogs(accountId) {
  try {
    const response = await fetch(
      `https://api.recoupable.com/api/catalogs?account_id=${accountId}`,
      {
        headers: {
          "Content-Type": "application/json",
        },
      }
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching catalogs:", error);
    throw error;
  }
}

// Example usage:
// const catalogs = await getCatalogs("your-account-id");
```

```typescript [TypeScript]
interface Catalog {
  id: string;
  name: string;
  created_at: string;
  updated_at: string;
  account_catalog: {
    id: string;
    account: string;
    catalog: string;
    created_at: string;
    updated_at: string;
  };
}

interface CatalogsResponse {
  status: "success" | "error";
  catalogs: Catalog[];
  error?: string;
}

async function getCatalogs(accountId: string): Promise<CatalogsResponse> {
  try {
    const response = await fetch(
      `https://api.recoupable.com/api/catalogs?account_id=${accountId}`,
      {
        headers: {
          "Content-Type": "application/json",
        },
      }
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data: CatalogsResponse = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching catalogs:", error);
    throw error;
  }
}

// Example usage:
// const catalogs = await getCatalogs("your-account-id");
```

:::

## Response Format

The API returns JSON responses with catalog data including the account-catalog relationship:

```json filename="Response"
{
  "status": "success",
  "catalogs": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440001",
      "name": "Main Catalog",
      "created_at": "2024-01-15T10:30:00Z",
      "updated_at": "2024-03-06T15:33:27Z",
      "account_catalog": {
        "id": "660e8400-e29b-41d4-a716-446655440001",
        "account": "550e8400-e29b-41d4-a716-446655440000",
        "catalog": "550e8400-e29b-41d4-a716-446655440001",
        "created_at": "2024-01-15T10:30:00Z",
        "updated_at": "2024-03-06T15:33:27Z"
      }
    },
    {
      "id": "550e8400-e29b-41d4-a716-446655440002",
      "name": "Archive Catalog",
      "created_at": "2024-02-01T14:20:00Z",
      "updated_at": "2024-03-05T18:22:15Z",
      "account_catalog": {
        "id": "660e8400-e29b-41d4-a716-446655440002",
        "account": "550e8400-e29b-41d4-a716-446655440000",
        "catalog": "550e8400-e29b-41d4-a716-446655440002",
        "created_at": "2024-02-01T14:20:00Z",
        "updated_at": "2024-03-05T18:22:15Z"
      }
    }
  ]
}
```

## Response Properties

### Response Object

| Property | Type   | Description                                        |
| -------- | ------ | -------------------------------------------------- |
| status   | string | Status of the request ("success" or "error")       |
| catalogs | array  | Array of catalog objects with account relationship |
| error    | string | Error message (only present if status is "error")  |

### Catalog Object

| Property                   | Type   | Description                                             |
| -------------------------- | ------ | ------------------------------------------------------- |
| id                         | string | Unique identifier for the catalog                       |
| name                       | string | Name of the catalog                                     |
| created_at                 | string | ISO timestamp of when the catalog was created           |
| updated_at                 | string | ISO timestamp of when the catalog was last updated      |
| account_catalog            | object | Account-catalog relationship information                |
| account_catalog.id         | string | Unique identifier for the account-catalog relationship  |
| account_catalog.account    | string | Account ID that owns this catalog                       |
| account_catalog.catalog    | string | Catalog ID (same as parent catalog.id)                  |
| account_catalog.created_at | string | ISO timestamp of when the relationship was created      |
| account_catalog.updated_at | string | ISO timestamp of when the relationship was last updated |

## Database Schema

This endpoint queries the following database tables:

### Catalogs Table

- **Primary Key**: `id` (uuid)
- **Fields**: `name`, `created_at`, `updated_at`
- **Indexes**: On `name` and `created_at` fields for performance

### Account Catalogs Table

- **Primary Key**: `id` (uuid)
- **Foreign Keys**:
  - `account` references `accounts.id`
  - `catalog` references `catalogs.id`
- **Unique Constraint**: Combination of `account` and `catalog`
- **Indexes**: On `account`, `catalog`, and `created_at` fields for performance

## Usage Examples

### Get all catalogs for a specific account

```bash
curl -X GET "https://api.recoupable.com/api/catalogs?account_id=550e8400-e29b-41d4-a716-446655440000"
```

## Error Handling

The API uses conventional HTTP response codes:

- `200`: Success
- `400`: Bad Request (missing or invalid account_id)
- `401`: Unauthorized
- `404`: Account not found or no catalogs found
- `500`: Internal Server Error

Example error response:

```json filename="Error Response"
{
  "status": "error",
  "error": "Account not found"
}
```

## Notes

- The `account_id` parameter is required and must be a valid UUID
- Catalogs are returned in order of creation (oldest first)
- Each catalog includes the full account-catalog relationship data
- All timestamps are returned in ISO 8601 format
- The relationship between accounts and catalogs is many-to-many
- Results include both catalog metadata and the specific account-catalog association
