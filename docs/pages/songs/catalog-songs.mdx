---
title: Get Catalog Songs
description: API endpoint to retrieve songs within a specific catalog with pagination support.
---

# Get Catalog Songs

Retrieve songs within a specific catalog. This endpoint joins the catalog_songs table with catalogs, songs, song_artists, and accounts tables to provide comprehensive song information for a given catalog.

## Endpoint

```http
GET https://api.recoupable.com/api/catalogs/songs
```

## Parameters

| Name       | Type   | Required | Description                                             |
| ---------- | ------ | -------- | ------------------------------------------------------- |
| catalog_id | string | Yes      | The unique identifier of the catalog to query songs for |
| page       | number | No       | Page number for pagination (default: 1)                 |
| limit      | number | No       | Number of songs per page (default: 20, max: 100)        |

## Request Examples

:::code-group

```bash [cURL]
curl -X GET "https://api.recoupable.com/api/catalogs/songs?catalog_id=YOUR_CATALOG_ID&page=1&limit=20" \
  -H "Content-Type: application/json"
```

```python [Python]
import requests

def get_catalog_songs(catalog_id: str, page: int = 1, limit: int = 20):
    try:
        url = "https://api.recoupable.com/api/catalogs/songs"
        params = {
            "catalog_id": catalog_id,
            "page": page,
            "limit": limit
        }

        headers = {
            "Content-Type": "application/json",
        }

        response = requests.get(url, params=params, headers=headers)
        response.raise_for_status()

        return response.json()
    except requests.exceptions.RequestException as error:
        print(f"Error fetching catalog songs: {error}")
        raise

# Example usage:
# songs = get_catalog_songs("your-catalog-id", page=1, limit=20)
```

```javascript [JavaScript]
async function getCatalogSongs(catalogId, page = 1, limit = 20) {
  try {
    const params = new URLSearchParams({
      catalog_id: catalogId,
      page: page.toString(),
      limit: limit.toString(),
    });

    const response = await fetch(
      `https://api.recoupable.com/api/catalogs/songs?${params.toString()}`,
      {
        headers: {
          "Content-Type": "application/json",
        },
      }
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching catalog songs:", error);
    throw error;
  }
}

// Example usage:
// const songs = await getCatalogSongs("your-catalog-id", 1, 20);
```

```typescript [TypeScript]
interface Song {
  isrc: string;
  name: string;
  album: string;
  lyrics: string;
  updated_at: string;
  artists: Array<{
    id: string;
    name: string | null;
    timestamp: number | null;
  }>;
}

interface CatalogSongsResponse {
  status: "success" | "error";
  songs: Song[];
  pagination: {
    total_count: number;
    page: number;
    limit: number;
    total_pages: number;
  };
  error?: string;
}

async function getCatalogSongs(
  catalogId: string,
  page: number = 1,
  limit: number = 20
): Promise<CatalogSongsResponse> {
  try {
    const params = new URLSearchParams({
      catalog_id: catalogId,
      page: page.toString(),
      limit: limit.toString(),
    });

    const response = await fetch(
      `https://api.recoupable.com/api/catalogs/songs?${params.toString()}`,
      {
        headers: {
          "Content-Type": "application/json",
        },
      }
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data: CatalogSongsResponse = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching catalog songs:", error);
    throw error;
  }
}

// Example usage:
// const songs = await getCatalogSongs("your-catalog-id", 1, 20);
```

:::

## Response Format

The API returns JSON responses with song data including associated artist information and pagination metadata:

```json filename="Response"
{
  "status": "success",
  "songs": [
    {
      "isrc": "USRC17607839",
      "name": "Bohemian Rhapsody",
      "album": "A Night at the Opera",
      "lyrics": "Is this the real life? Is this just fantasy? Caught in a landslide, no escape from reality...",
      "updated_at": "2024-03-06T15:33:27Z",
      "artists": [
        {
          "id": "550e8400-e29b-41d4-a716-446655440000",
          "name": "Queen",
          "timestamp": 1640995200000
        }
      ]
    },
    {
      "isrc": "USRC17607840",
      "name": "We Will Rock You",
      "album": "News of the World",
      "lyrics": "Buddy, you're a boy, make a big noise, playing in the street, gonna be a big man someday...",
      "updated_at": "2024-03-05T18:22:15Z",
      "artists": [
        {
          "id": "550e8400-e29b-41d4-a716-446655440000",
          "name": "Queen",
          "timestamp": 1640995200000
        }
      ]
    }
  ],
  "pagination": {
    "total_count": 42,
    "page": 1,
    "limit": 20,
    "total_pages": 3
  }
}
```

## Response Properties

### Response Object

| Property   | Type   | Description                                       |
| ---------- | ------ | ------------------------------------------------- |
| status     | string | Status of the request ("success" or "error")      |
| songs      | array  | Array of song objects with artist information     |
| pagination | object | Pagination metadata for the response              |
| error      | string | Error message (only present if status is "error") |

### Song Object

| Property            | Type   | Description                                                |
| ------------------- | ------ | ---------------------------------------------------------- |
| isrc                | string | International Standard Recording Code (primary key)        |
| name                | string | Name of the song                                           |
| album               | string | Name of the album the song belongs to                      |
| lyrics              | string | Full lyrics of the song                                    |
| updated_at          | string | ISO timestamp of when the song data was last updated       |
| artists             | array  | Array of artist objects associated with this song          |
| artists[].id        | string | Unique identifier for the artist account                   |
| artists[].name      | string | Name of the artist (can be null)                           |
| artists[].timestamp | number | Timestamp associated with the artist account (can be null) |

### Pagination Object

| Property    | Type   | Description                          |
| ----------- | ------ | ------------------------------------ |
| total_count | number | Total number of songs in the catalog |
| page        | number | Current page number                  |
| limit       | number | Number of songs per page             |
| total_pages | number | Total number of pages available      |

## Database Schema

This endpoint queries the following database tables:

### Catalog Songs Table

- **Primary Key**: `id` (uuid)
- **Foreign Keys**:
  - `catalog` references `catalogs.id`
  - `song` references `songs.isrc`
- **Unique Constraint**: Combination of `catalog` and `song`
- **Indexes**: On `catalog`, `song`, and `created_at` fields for performance

### Catalogs Table

- **Primary Key**: `id` (uuid)
- **Fields**: `name`, `created_at`, `updated_at`
- **Indexes**: On `name` and `created_at` fields for performance

### Songs Table

- **Primary Key**: `isrc` (text)
- **Fields**: `name`, `album`, `lyrics`, `updated_at`
- **Indexes**: On `name` and `album` fields for performance

### Song Artists Table

- **Primary Key**: `id` (uuid)
- **Foreign Keys**:
  - `song` references `songs.isrc`
  - `artist` references `accounts.id`
- **Unique Constraint**: Combination of `song` and `artist`
- **Indexes**: On `song`, `artist`, and `created_at` fields for performance

### Accounts Table

- **Primary Key**: `id` (uuid)
- **Fields**: `name`, `timestamp`

## Usage Examples

### Get songs from a specific catalog with pagination

```bash
curl -X GET "https://api.recoupable.com/api/catalogs/songs?catalog_id=550e8400-e29b-41d4-a716-446655440001&page=1&limit=10"
```

### Get all songs from a catalog (first page, default limit)

```bash
curl -X GET "https://api.recoupable.com/api/catalogs/songs?catalog_id=550e8400-e29b-41d4-a716-446655440001"
```

## Error Handling

The API uses conventional HTTP response codes:

- `200`: Success
- `400`: Bad Request (missing or invalid catalog_id)
- `401`: Unauthorized
- `404`: Catalog not found or no songs found
- `500`: Internal Server Error

Example error response:

```json filename="Error Response"
{
  "status": "error",
  "error": "Catalog not found"
}
```

## Notes

- The `catalog_id` parameter is required and must be a valid UUID
- Songs are returned in descending order of addition to the catalog (latest first)
- Each song includes full artist information from the song_artists relationship
- All timestamps are returned in ISO 8601 format
- The relationship between catalogs and songs is many-to-many
- Pagination parameters allow efficient handling of large catalogs
- Maximum limit is 100 songs per page to ensure performance
