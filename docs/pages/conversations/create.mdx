---
title: Create Conversation
description: Create a new chat conversation (room) for an artist.
---

# Create Conversation

Create a new chat conversation (room) associated with an artist. The account is automatically inferred from the API key provided in the request.

## Endpoint

```http
POST https://recoup-api.vercel.app/api/conversations
```

### Authentication

| Header    | Type   | Required | Description                                                                                               |
| --------- | ------ | -------- | --------------------------------------------------------------------------------------------------------- |
| x-api-key | string | Yes      | Your Recoup API key. See [Getting Started](/getting-started#-api-keys) for how to create and manage keys. |

## Parameters

| Name           | Type   | Required | Description                                                    |
| -------------- | ------ | -------- | -------------------------------------------------------------- |
| artistId       | string | Yes      | UUID of the artist account the conversation is associated with |
| conversationId | string | No       | UUID for the new conversation (client-generated). If not provided, one will be generated automatically. |

## Request Examples

:::code-group

```bash [cURL]
curl -X POST "https://recoup-api.vercel.app/api/conversations" \
  -H "Content-Type: application/json" \
  -H "x-api-key: YOUR_API_KEY" \
  -d '{
    "artistId": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d"
  }'
```

```python [Python]
import requests

def create_conversation(
    artist_id: str,
    conversation_id: str | None = None,
    api_key: str = "YOUR_API_KEY"
):
    url = "https://recoup-api.vercel.app/api/conversations"

    payload = {
        "artistId": artist_id,
    }
    if conversation_id:
        payload["conversationId"] = conversation_id

    response = requests.post(
        url,
        json=payload,
        headers={
            "Content-Type": "application/json",
            "x-api-key": api_key,
        }
    )
    response.raise_for_status()
    return response.json()

# Example usage:
# result = create_conversation(
#     artist_id="1873859c-dd37-4e9a-9bac-80d35a1b2c3d"
# )
```

```javascript [JavaScript]
async function createConversation({
  artistId,
  conversationId,
  apiKey = "YOUR_API_KEY",
}) {
  const payload = { artistId };
  if (conversationId) {
    payload.conversationId = conversationId;
  }

  const response = await fetch("https://recoup-api.vercel.app/api/conversations", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "x-api-key": apiKey,
    },
    body: JSON.stringify(payload),
  });

  if (!response.ok) {
    throw new Error(`Failed to create conversation: ${response.status}`);
  }

  return await response.json();
}

// Example usage:
// const result = await createConversation({
//   artistId: "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
// });
```

```typescript [TypeScript]
interface CreateConversationRequest {
  artistId: string;
  conversationId?: string;
}

interface Room {
  id: string;
  account_id: string | null;
  artist_id: string | null;
  topic: string | null;
  updated_at: string;
}

async function createConversation(
  params: CreateConversationRequest,
  apiKey: string = "YOUR_API_KEY"
): Promise<Room> {
  const response = await fetch("https://recoup-api.vercel.app/api/conversations", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "x-api-key": apiKey,
    },
    body: JSON.stringify(params),
  });

  if (!response.ok) {
    throw new Error(`Failed to create conversation: ${response.status}`);
  }

  return (await response.json()) as Room;
}
```

:::

## Response

```json
{
  "id": "f1b2c3d4-5678-4abc-9def-1234567890ab",
  "account_id": "848cd58d-700f-4b38-ab4c-d9f52a1b2c3d",
  "artist_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
  "topic": null,
  "updated_at": "2025-01-09T12:00:00.000Z"
}
```

## Response Properties

| Property   | Type   | Description                                    |
| ---------- | ------ | ---------------------------------------------- |
| id         | string | UUID of the created conversation               |
| account_id | string | UUID of the account that owns the conversation |
| artist_id  | string | UUID of the associated artist                  |
| topic      | string | Title of the conversation (null on creation)   |
| updated_at | string | ISO timestamp of the last update               |

## Error Responses

### Missing Required Parameters (400)

```json
{
  "error": "Missing required parameters"
}
```

### Server Error (500)

```json
{
  "error": "Failed to create conversation"
}
```

## Notes

- The account is automatically inferred from the API key - no need to pass `accountId`
- If `conversationId` is not provided, a UUID will be generated automatically
- After creating a conversation, use the [Chat Stream API](/chat/stream) or [Chat Generate API](/chat/generate) to send messages
