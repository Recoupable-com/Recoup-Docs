---
title: Get Jobs
description: API endpoint to retrieve scheduled jobs (scheduled actions) with optional filtering by job ID.
---

# Get Jobs

Retrieve scheduled jobs from the database. If a job `id` is provided, returns a single job matching that ID. Otherwise, returns an array of all jobs. Jobs represent scheduled actions with cron-based execution schedules.

## Endpoint

```http
GET https://api.recoupable.com/api/jobs
```

## Parameters

| Name | Type   | Required | Description                                                                                                                           |
| ---- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| id   | string | No       | Optional. The unique identifier of the job to retrieve. If provided, returns a single job in the array. If omitted, returns all jobs. |

## Request Examples

:::code-group

```bash [cURL]
curl -X GET "https://api.recoupable.com/api/jobs" \
  -H "Content-Type: application/json"
```

```bash [cURL - With ID]
curl -X GET "https://api.recoupable.com/api/jobs?id=aade2bce-55c7-468e-a606-c4e76fb2ea2k" \
  -H "Content-Type: application/json"
```

```python [Python]
import requests

def get_jobs(job_id: str = None):
    try:
        url = "https://api.recoupable.com/api/jobs"
        params = {}
        if job_id:
            params["id"] = job_id
        headers = {"Content-Type": "application/json"}
        response = requests.get(url, params=params, headers=headers)
        response.raise_for_status()
        return response.json()
    except requests.exceptions.RequestException as error:
        print(f"Error fetching jobs: {error}")
        raise

# Example usage:
# jobs = get_jobs()  # Get all jobs
# job = get_jobs("aade2bce-55c7-468e-a606-c4e76fb2ea2k")  # Get single job
```

```javascript [JavaScript]
async function getJobs(jobId = null) {
  try {
    const params = new URLSearchParams();
    if (jobId) params.append("id", jobId);

    const response = await fetch(
      `https://api.recoupable.com/api/jobs${
        jobId ? `?${params.toString()}` : ""
      }`,
      {
        headers: {
          "Content-Type": "application/json",
        },
      }
    );

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error fetching jobs:", error);
    throw error;
  }
}

// Example usage:
// const jobs = await getJobs();  // Get all jobs
// const job = await getJobs("aade2bce-55c7-468e-a606-c4e76fb2ea2k");  // Get single job
```

```typescript [TypeScript]
interface Job {
  id: string;
  title: string;
  prompt: string;
  schedule: string;
  account_id: string;
  artist_account_id: string;
  enabled: boolean | null;
}

interface JobsResponse {
  status: "success" | "error";
  jobs: Job[];
  error?: string;
}

async function getJobs(jobId?: string): Promise<JobsResponse> {
  const params = new URLSearchParams();
  if (jobId) params.append("id", jobId);

  const response = await fetch(
    `https://api.recoupable.com/api/jobs${
      jobId ? `?${params.toString()}` : ""
    }`,
    {
      headers: {
        "Content-Type": "application/json",
      },
    }
  );

  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }

  return (await response.json()) as JobsResponse;
}

// Example usage:
// const jobs = await getJobs();  // Get all jobs
// const job = await getJobs("aade2bce-55c7-468e-a606-c4e76fb2ea2k");  // Get single job
```

:::

## Response Format

The API returns JSON responses with job data. When an `id` parameter is provided, the response contains a single job in the array. When omitted, all jobs are returned.

```json filename="Response - All Jobs"
{
  "status": "success",
  "jobs": [
    {
      "id": "aade2bce-55c7-468e-a606-c4e76fb2ea2k",
      "title": "Daily Hip-Hop History Caption and Email",
      "prompt": "Search the web for the most culturally significant hip-hop event that happened on this date in history, then create a compelling social media caption and email to send to the artist's fanbase.",
      "schedule": "0 10 * * *",
      "account_id": "you_account_id",
      "artist_account_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
      "enabled": true
    },
    {
      "id": "6388ca52-b1b7-41e7-a48d-404b4d05016f",
      "title": "Daily Trends Report: Sunday (1994) - 9AM",
      "prompt": "Daily task for artist_account_id: 6606edd... Generate a comprehensive trends report covering music industry news, social media trends, and relevant cultural events.",
      "schedule": "0 9 * * *",
      "account_id": "you_account_id",
      "artist_account_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
      "enabled": true
    },
    {
      "id": "e32aa16b-7069-4c29-8935-fadf7bca8471",
      "title": "Weekly New Fan Finder",
      "prompt": "Check if file 'weekly_new_fan_finder.txt' exists. If not, run the new fan discovery workflow to identify and analyze new fans across all social platforms.",
      "schedule": "0 10 * * 2",
      "account_id": "you_account_id",
      "artist_account_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
      "enabled": true
    }
  ]
}
```

```json filename="Response - Single Job (with id parameter)"
{
  "status": "success",
  "jobs": [
    {
      "id": "aade2bce-55c7-468e-a606-c4e76fb2ea2k",
      "title": "Daily Hip-Hop History Caption and Email",
      "prompt": "Search the web for the most culturally significant hip-hop event that happened on this date in history, then create a compelling social media caption and email to send to the artist's fanbase.",
      "schedule": "0 10 * * *",
      "account_id": "you_account_id",
      "artist_account_id": "1873859c-dd37-4e9a-9bac-80d35a1b2c3d",
      "enabled": true
    }
  ]
}
```

## Response Properties

### Response Object

| Property | Type   | Description                                         |
| -------- | ------ | --------------------------------------------------- |
| status   | string | Status of the request ("success" or "error")        |
| jobs     | array  | Array of job objects (single item if `id` provided) |
| error    | string | Error message (only present if status is "error")   |

### Job Object

| Property          | Type    | Description                                                                     |
| ----------------- | ------- | ------------------------------------------------------------------------------- |
| id                | string  | Unique identifier for the job (UUID)                                            |
| title             | string  | Descriptive title or name of the job                                            |
| prompt            | string  | Detailed instruction or prompt associated with the job execution                |
| schedule          | string  | Cron expression defining when the job should execute (e.g., "0 10 \* \* \*")    |
| account_id        | string  | Unique identifier for the associated account (UUID)                             |
| artist_account_id | string  | Unique identifier for the associated artist account (UUID)                      |
| enabled           | boolean | Whether the job is enabled. Defaults to `true` if not specified. Can be `null`. |

## Schedule Format (Cron)

The `schedule` field uses standard cron expression format:

```
┌───────────── minute (0 - 59)
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *
```

### Common Examples

- `0 10 * * *` - Daily at 10:00 AM
- `0 9 * * *` - Daily at 9:00 AM
- `0 10 * * 2` - Every Tuesday at 10:00 AM
- `0 16 * * 5` - Every Friday at 4:00 PM
- `0 9 * * 1` - Every Monday at 9:00 AM

## Database Schema

This endpoint queries the `scheduled_actions` table:

### Scheduled Actions Table

- **Primary Key**: `id` (uuid, not null, default gen_random_uuid())
- **Fields**:
  - `title` (text, not null) - Job title
  - `prompt` (text, not null) - Job execution prompt/instructions
  - `schedule` (text, not null) - Cron expression for job scheduling
  - `account_id` (uuid, not null) - Foreign key to accounts table
  - `artist_account_id` (uuid, not null) - Foreign key to artist accounts table
  - `enabled` (boolean, null, default true) - Job enable/disable flag
